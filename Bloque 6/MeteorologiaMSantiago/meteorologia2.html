<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>Meteorología</title>
        <link href="meteorologia2.css" rel="stylesheet" type="text/css">
    </head>

    <style>

       

    </style>

    <body id="gui">
        
    </body>

    <script type="text/javascript">

  
    let table =
    [
        ["Mes", "Ene.", "Feb.", "Mar.", "Abr.", "May.", "Jun.", "Jul.", "Ago.", "Sep.", "Oct.", "Nov.", "Dic.", "Anual"],
        ["Temp.max. abs.(°C)", 39.3, 38.1, 36.3, 32.5, 27.4, 22.2, 27.7, 24.7, 28.8, 34.4, 35.7, 39.4, 39.4],
        ["Temp. max. media (°C)", 26.3, 25.8, 23.7, 20.5, 16.8, 13.8, 13.1, 14.4, 16, 18.5, 21.7, 24.4, 19.6],
        ["Temp. media (°C)", 20.3, 19.9, 18.0 , 14.6, 11.3, 8.5, 8.1, 8.9, 10.5, 13.1, 15.9, 18.5, 14.0],
        ["Temp. min. media (°C)", 14.3, 14.1, 12.5, 9.1, 6.4, 4.1, 3.8, 4.0, 5.3, 7.6, 10.1, 12.7, 8.7],
        ["Temp. min. abs (°C)", 4.7, 1.2, 1.9, -1, -3, -5.5, -9.3, -6.4, -5.5, -3, -2, -0.2,-9.3],
        ["Precipitación total (mm)", 100.1, 72.8, 107.0, 73.3, 73.5, 54.9, 58.9, 64.0, 56.4, 83.4, 75.3, 104.0, 923.6],
        ["Días de precipitaciones (>0.1mm)", 9, 8, 9, 9, 9, 9, 9, 8, 7, 10, 10, 10, 107],
        ["Horas de sol", 288.3, 234.5, 232.5, 195.0, 167.4, 120.0, 127.1, 164.3, 174.0, 210.8, 222.0, 269.7, 2405.6],
        ["Tumedad. relativa (%)", 76, 77, 79, 81, 83, 84, 81, 81, 80, 80, 77, 76, 80]
    ]

    let getClassForTemperature = (temperature ) =>
    {
        let class_name = "";

        if ( temperature < 39 && temperature >= 36 )
            class_name = "temp_39_36";

        return class_name;
    }

    let getColorForTemperature = ( temperature ) =>
    {
        let color = "ffffff";

        if ( temperature >= 39 )
            color = "bb0000";
        else if ( temperature < 39 && temperature >= 36 )
            color = "f60000";
        else if ( temperature < 36 && temperature >= 33 )
            color = "f63000";
        else if ( temperature < 21 && temperature >= 16 )
            color = "f67400";
        else if ( temperature < 6 && temperature >= 4 )
            color = "ffeabf"

        return color;
    }

    let generateHTMLCode = ( table ) =>
    {
        let HTMLCode = `<table>`

        for ( let i=0; i<table.length; i++)
        {
            HTMLCode += `<tr>`;
            
            for (let j=0; j<table[i].length; j++)
            {
                if ( i < 6 && i > 0 ) //temperaturas
                {
                    //HTMLCode += `<td style="background-color:#${getColorForTemperature(table[i][j])}">${table[i][j]}</td>`;
                    HTMLCode += `<td class="${getClassForTemperature(table[i][j])}">${table[i][j]}</td>`;
                }
                else if ( i == 6 ) //precipitacion
                {

                }
                else if ( i == 7 ) //dias de precipitaciones
                {

                }
                else if ( i == 8 ) // horas de sol
                {

                }
                else if ( i == 9 ) // humedad relativa
                {

                }

            }            
            
            HTMLCode += `</tr>` ;                                   
        }                       
                            
        HTMLCode += `</table>`;
        
        return HTMLCode;            
    }

    let body = document.getElementById("gui");
    body.innerHTML = generateHTMLCode( table );


    </script>   

</html>